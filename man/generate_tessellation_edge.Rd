% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tessellation_edge_generation.R
\name{generate_tessellation_edge}
\alias{generate_tessellation_edge}
\title{Generate bezier edge with tab between two arbitrary points}
\usage{
generate_tessellation_edge(
  v1,
  v2,
  seed,
  edge_id,
  tabsize = 20,
  jitter = 4,
  tab_direction = 1,
  min_tab_size = NULL,
  max_tab_size = NULL
)
}
\arguments{
\item{v1}{Start vertex c(x, y)}

\item{v2}{End vertex c(x, y)}

\item{seed}{Random seed for reproducibility}

\item{edge_id}{Unique edge identifier}

\item{tabsize}{Tab size percentage (default: 20)}

\item{jitter}{Jitter percentage (default: 4)}

\item{tab_direction}{1 for tab pointing "left" of edge direction,
-1 for "right" (default: 1)}

\item{min_tab_size}{Minimum absolute tab size in units (default: NULL for no limit).
Prevents tabs from becoming too small on short edges.}

\item{max_tab_size}{Maximum absolute tab size in units (default: NULL for no limit).
Prevents tabs from becoming too large on long edges and overlapping.}
}
\value{
List with forward and reverse SVG paths, plus metadata
}
\description{
Creates a bezier curve path with interlocking tab between two vertices.
This is the core function for tessellation-based puzzles where edges
can be at any angle (not just horizontal/vertical).
}
\details{
Uses 3 cubic bezier curves (9 control points) to create a smooth
interlocking tab pattern. The tab direction is determined by the
`tab_direction` parameter, ensuring adjacent cells have complementary
tabs that interlock.

For two adjacent cells A and B sharing an edge:
- Cell A uses the `forward` path
- Cell B uses the `reverse` path
The paths are mathematical inverses, creating perfect interlocking.

Tab Size Constraints:
The actual tab height is approximately `3 * t * edge_length` where t is
the tab fraction. With min/max constraints:
- If computed tab would be smaller than min_tab_size, it's clamped up
- If computed tab would be larger than max_tab_size, it's clamped down
- Very short edges (where even min_tab_size would cause overlap) get
  straight lines instead of tabs
}
\examples{
# Horizontal edge
edge <- generate_tessellation_edge(c(0, 0), c(100, 0), seed = 42, edge_id = 1)
cat(edge$forward)

# Diagonal edge with tab size constraints
edge <- generate_tessellation_edge(c(0, 0), c(70, 70), seed = 42, edge_id = 2,
                                    min_tab_size = 10, max_tab_size = 30)

}
