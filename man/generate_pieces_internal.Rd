% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/unified_piece_generation.R
\name{generate_pieces_internal}
\alias{generate_pieces_internal}
\title{Generate all puzzle pieces as closed paths}
\usage{
generate_pieces_internal(
  type = "rectangular",
  seed = NULL,
  grid = c(2, 2),
  size = c(200, 200),
  tabsize = 20,
  jitter = 4,
  do_warp = FALSE,
  do_trunc = FALSE,
  do_circular_border = FALSE,
  center_shape = "hexagon",
  boundary_facing = "outward",
  fusion_groups = NULL,
  fusion_style = "none",
  fusion_opacity = 0.3,
  point_distribution = "fermat",
  n_corner = 4,
  min_piece_size = NULL,
  min_tab_size = NULL,
  max_tab_size = NULL
)
}
\arguments{
\item{type}{Puzzle type: "rectangular", "hexagonal", or "concentric"}

\item{seed}{Random seed for reproducibility}

\item{grid}{For rectangular: c(rows, cols). For hexagonal/concentric: c(rings) or just rings}

\item{size}{For rectangular: c(width, height). For hexagonal/concentric: c(diameter) or just diameter}

\item{tabsize}{Tab size as percentage (10-40, default: 20)}

\item{jitter}{Jitter as percentage (0-15, default: 4)}

\item{do_warp}{Apply circular warp (hexagonal only, default: FALSE)}

\item{do_trunc}{Truncate boundary (hexagonal only, default: FALSE)}

\item{do_circular_border}{Use perfect circular arc borders (hexagonal: requires do_warp=TRUE; concentric: always available)}

\item{center_shape}{Center piece shape for concentric type: "hexagon" or "circle"}

\item{boundary_facing}{Direction the circular arc faces (concentric only): "outward" or "inward"}

\item{fusion_groups}{List of piece ID vectors to fuse together (optional)}

\item{fusion_style}{Style for fused internal edges: "none" (invisible), "dashed", "solid"}

\item{fusion_opacity}{Opacity for fused edges when style != "none" (0.0 to 1.0)}

\item{point_distribution}{Point distribution method for voronoi puzzles: "fermat", "uniform", or "jittered"}
}
\value{
List with:
  - pieces: List of piece objects with id, path, center, grid_pos/ring_pos
  - canvas_size: c(width, height) for compact (offset=0) layout
  - type: "rectangular", "hexagonal", or "concentric"
  - parameters: Generation parameters used
  - fusion_data: Fusion edge data (if fusion_groups provided)
}
\description{
Core function that generates piece objects with closed SVG paths.
Works for rectangular, hexagonal, and concentric puzzles with consistent output structure.
}
