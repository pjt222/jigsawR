/* Custom CSS for jigsawR Shiny App - bslib darkly theme compatible */

/* General styling - let theme handle background */
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  /* background-color removed - inherited from bslib theme */
}

/* Header styling - use theme colors */
.container-fluid > h2 {
  padding-bottom: 10px;
  border-bottom: 3px solid var(--bs-primary, #375a7f);
  margin-bottom: 20px;
}

/* Sidebar panel improvements - remove white background */
.well {
  /* background-color removed - use theme background */
  border: 1px solid var(--bs-border-color, rgba(255, 255, 255, 0.1));
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* Button styling - Bootstrap 5 will handle most of this */
/* Keep minimal overrides for consistency */
.btn {
  font-weight: 600;
  padding: 10px;
}

/* Input styling - minimal overrides */
.form-control {
  border-radius: 4px;
  /* Let theme handle colors */
}

.form-control:focus {
  /* Use theme primary color for focus */
  border-color: var(--bs-primary, #375a7f);
  box-shadow: 0 0 0 0.2rem rgba(55, 90, 127, 0.25);
}

/* Slider styling - use theme primary color */
.irs-bar {
  background: var(--bs-primary, #375a7f) !important;
  border-top: 1px solid var(--bs-primary, #375a7f) !important;
  border-bottom: 1px solid var(--bs-primary, #375a7f) !important;
}

.irs-bar-edge {
  background: var(--bs-primary, #375a7f) !important;
  border: 1px solid var(--bs-primary, #375a7f) !important;
}

.irs-single {
  background: var(--bs-primary, #375a7f) !important;
}

.irs-from, .irs-to {
  background: var(--bs-primary, #375a7f) !important;
}

.irs-handle {
  border: 2px solid var(--bs-primary, #375a7f) !important;
}

/* Radio button styling - use theme colors */
.radio label {
  font-weight: normal;
  cursor: pointer;
}

.radio input[type="radio"]:checked + span {
  font-weight: 600;
  /* color inherited from theme */
}

/* Tab panel styling - let Bootstrap 5 handle */
/* Removed hardcoded white backgrounds */

/* SVG container improvements - use theme background */
.svg-container {
  /* background removed - card handles this */
  border: 2px solid var(--bs-border-color, rgba(255, 255, 255, 0.1));
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 600px;
  position: relative;
}

.svg-container svg {
  max-width: 100%;
  max-height: 100%;
  height: auto;
  width: auto;
}

/* Parameter summary box - use theme colors */
.parameter-summary {
  background: var(--bs-secondary-bg, rgba(255, 255, 255, 0.05));
  border: 1px solid var(--bs-border-color, rgba(255, 255, 255, 0.1));
  border-radius: 8px;
  padding: 15px 20px;
  margin-top: 20px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.parameter-summary h5 {
  margin-top: 0;
  margin-bottom: 15px;
  font-weight: 600;
  border-bottom: 2px solid var(--bs-primary, #375a7f);
  padding-bottom: 8px;
}

.parameter-summary p {
  margin: 0;
  line-height: 1.8;
}

.parameter-summary strong {
  font-weight: 600;
}

/* Section styling - use theme background */
.sidebar-section {
  background: var(--bs-secondary-bg, rgba(255, 255, 255, 0.05));
  border: 1px solid var(--bs-border-color, rgba(255, 255, 255, 0.1));
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.section-title {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 15px;
  padding-bottom: 8px;
  border-bottom: 2px solid var(--bs-primary, #375a7f);
}

/* Help tab styling - use theme colors */
.help-content {
  /* background removed - card handles this */
  padding: 30px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.help-content h4 {
  border-bottom: 2px solid var(--bs-primary, #375a7f);
  padding-bottom: 10px;
  margin-bottom: 20px;
}

.help-content ul {
  line-height: 1.8;
}

.help-content li {
  margin-bottom: 8px;
}

/* Tip box styling - use warning colors from theme */
.tip-box {
  background: var(--bs-warning-bg-subtle, rgba(255, 193, 7, 0.1));
  border: 1px solid var(--bs-warning, #ffc107);
  border-radius: 6px;
  padding: 12px;
  margin-top: 20px;
}

.tip-box p {
  margin: 0;
  color: var(--bs-warning-text, #ffc107);
}

/* Loading animation */
.progress {
  height: 25px;
  border-radius: 12px;
  overflow: hidden;
}

.progress-bar {
  background: linear-gradient(90deg, var(--bs-primary, #375a7f), var(--bs-info, #3498db));
  animation: progress-animation 2s ease-in-out infinite;
}

@keyframes progress-animation {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Responsive improvements */
@media (max-width: 768px) {
  .sidebar-section {
    margin-bottom: 15px;
    padding: 10px;
  }

  .svg-container {
    min-height: 400px;
    padding: 10px;
  }

  .btn-block {
    margin-bottom: 10px;
  }
}

/* Icon animations */
.fa-puzzle-piece {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

/* Hover effects */
.sidebar-section:hover {
  box-shadow: 0 4px 8px rgba(0,0,0,0.4);
  transition: box-shadow 0.3s ease;
}

input[type="number"]:hover,
select:hover {
  border-color: var(--bs-primary, #375a7f);
  transition: border-color 0.3s ease;
}

/* Success/Error states - use theme alert colors */
.success-message {
  background-color: var(--bs-success-bg-subtle, rgba(25, 135, 84, 0.1));
  border: 1px solid var(--bs-success, #198754);
  color: var(--bs-success-text, #75b798);
  padding: 10px;
  border-radius: 4px;
  margin: 10px 0;
}

.error-message {
  background-color: var(--bs-danger-bg-subtle, rgba(220, 53, 69, 0.1));
  border: 1px solid var(--bs-danger, #dc3545);
  color: var(--bs-danger-text, #ea868f);
  padding: 10px;
  border-radius: 4px;
  margin: 10px 0;
}
